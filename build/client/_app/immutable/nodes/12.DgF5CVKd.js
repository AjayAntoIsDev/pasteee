import{s as he,e as u,a as b,c as i,m as q,g as x,b as R,f as k,o as e,i as W,h as t,z as H,p as Q,x as me,A as O,n as pe,v as _e}from"../chunks/scheduler.VK6vfmC_.js";import{S as ve,i as ye}from"../chunks/index.BycGP4sO.js";import{e as be}from"../chunks/forms.YqOt3IOs.js";import{g as xe,a as Ce}from"../chunks/entry.BtI8Upk3.js";import{D as ge,s as de}from"../chunks/time.Bh9EoIFo.js";function fe(l){let r,s="Saved";return{c(){r=u("span"),r.textContent=s,this.h()},l(f){r=i(f,"SPAN",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1n07gf"&&(r.textContent=s),this.h()},h(){e(r,"class","text-green-500")},m(f,p){W(f,r,p)},d(f){f&&k(r)}}}function ke(l){var ce;let r,s="Settings",f,p,v,h="Defaults",o,d,T,I,G="Encrypted",z,C,a,X,V,M,le="Burn after read",Y,N,J,Z,B,w,ue="Expires in:",$,y,A,ee,D,te,E,se,U,ne,P,F,ie="Save",re,ae,oe,m=((ce=l[0])==null?void 0:ce.defaultsForm.success)&&fe();return{c(){r=u("h1"),r.textContent=s,f=b(),p=u("div"),v=u("h4"),v.textContent=h,o=b(),d=u("form"),T=u("div"),I=u("label"),I.textContent=G,z=b(),C=u("input"),X=b(),V=u("div"),M=u("label"),M.textContent=le,Y=b(),N=u("input"),Z=b(),B=u("div"),w=u("span"),w.textContent=ue,$=b(),y=u("div"),A=u("input"),ee=b(),D=u("input"),te=b(),E=u("input"),se=b(),U=u("input"),ne=b(),P=u("div"),F=u("button"),F.textContent=ie,re=b(),m&&m.c(),this.h()},l(n){r=i(n,"H1",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-o50bih"&&(r.textContent=s),f=x(n),p=i(n,"DIV",{class:!0});var c=R(p);v=i(c,"H4",{class:!0,"data-svelte-h":!0}),q(v)!=="svelte-1qs9gvj"&&(v.textContent=h),o=x(c),d=i(c,"FORM",{method:!0,action:!0,class:!0});var _=R(d);T=i(_,"DIV",{});var S=R(T);I=i(S,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(I)!=="svelte-9ph1v3"&&(I.textContent=G),z=x(S),C=i(S,"INPUT",{id:!0,class:!0,type:!0,name:!0}),S.forEach(k),X=x(_),V=i(_,"DIV",{});var L=R(V);M=i(L,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(M)!=="svelte-v30ruf"&&(M.textContent=le),Y=x(L),N=i(L,"INPUT",{id:!0,class:!0,type:!0,name:!0}),L.forEach(k),Z=x(_),B=i(_,"DIV",{});var j=R(B);w=i(j,"SPAN",{"data-svelte-h":!0}),q(w)!=="svelte-j38af3"&&(w.textContent=ue),$=x(j),y=i(j,"DIV",{class:!0});var g=R(y);A=i(g,"INPUT",{type:!0,class:!0,placeholder:!0}),ee=x(g),D=i(g,"INPUT",{type:!0,class:!0,placeholder:!0}),te=x(g),E=i(g,"INPUT",{type:!0,class:!0,placeholder:!0}),se=x(g),U=i(g,"INPUT",{type:!0,name:!0}),g.forEach(k),j.forEach(k),ne=x(_),P=i(_,"DIV",{class:!0});var K=R(P);F=i(K,"BUTTON",{class:!0,"data-svelte-h":!0}),q(F)!=="svelte-yr5vrd"&&(F.textContent=ie),re=x(K),m&&m.l(K),K.forEach(k),_.forEach(k),c.forEach(k),this.h()},h(){var n,c,_,S;e(r,"class","text-5xl"),e(v,"class","text-2xl mt-6 mb-4"),e(I,"for","encrypted"),e(I,"class","py-2"),e(C,"id","encrypted"),e(C,"class","bg-dark px-2 py-1"),e(C,"type","checkbox"),e(C,"name","encrypted"),C.checked=a=(c=(n=l[3])==null?void 0:n.defaults)==null?void 0:c.encrypted,e(M,"for","burn-after-read"),e(M,"class","py-2"),e(N,"id","burn-after-read"),e(N,"class","bg-dark px-2 py-1"),e(N,"type","checkbox"),e(N,"name","burn-after-read"),N.checked=J=(S=(_=l[3])==null?void 0:_.defaults)==null?void 0:S.burnAfterRead,e(A,"type","number"),e(A,"class","bg-dark py-1 text-center"),e(A,"placeholder","DD"),e(D,"type","number"),e(D,"class","bg-dark py-1 text-center"),e(D,"placeholder","HH"),e(E,"type","number"),e(E,"class","bg-dark py-1 text-center"),e(E,"placeholder","MM"),e(U,"type","hidden"),e(U,"name","expires-after-seconds"),e(y,"class","grid grid-cols-3 gap-2 justify-center items-center"),e(F,"class","bg-amber-500 text-black text-lg px-4 py-1"),e(P,"class","mt-2"),e(d,"method","post"),e(d,"action","?/defaults"),e(d,"class","mt-2 flex flex-col gap-4"),e(p,"class","px-4")},m(n,c){W(n,r,c),W(n,f,c),W(n,p,c),t(p,v),t(p,o),t(p,d),t(d,T),t(T,I),t(T,z),t(T,C),t(d,X),t(d,V),t(V,M),t(V,Y),t(V,N),t(d,Z),t(d,B),t(B,w),t(B,$),t(B,y),t(y,A),H(A,l[1].days),t(y,ee),t(y,D),H(D,l[1].hours),t(y,te),t(y,E),H(E,l[1].minutes),t(y,se),t(y,U),H(U,l[2]),t(d,ne),t(d,P),t(P,F),t(P,re),m&&m.m(P,null),ae||(oe=[Q(A,"input",l[5]),Q(D,"input",l[6]),Q(E,"input",l[7]),Q(U,"input",l[8]),me(be.call(null,d,l[9]))],ae=!0)},p(n,[c]){var _,S,L,j,g;c&8&&a!==(a=(S=(_=n[3])==null?void 0:_.defaults)==null?void 0:S.encrypted)&&(C.checked=a),c&8&&J!==(J=(j=(L=n[3])==null?void 0:L.defaults)==null?void 0:j.burnAfterRead)&&(N.checked=J),c&2&&O(A.value)!==n[1].days&&H(A,n[1].days),c&2&&O(D.value)!==n[1].hours&&H(D,n[1].hours),c&2&&O(E.value)!==n[1].minutes&&H(E,n[1].minutes),c&4&&H(U,n[2]),(g=n[0])!=null&&g.defaultsForm.success?m||(m=fe(),m.c(),m.m(P,null)):m&&(m.d(1),m=null)},i:pe,o:pe,d(n){n&&(k(r),k(f),k(p)),m&&m.d(),ae=!1,_e(oe)}}}function Ie(l,r,s){let f,{data:p}=r,{form:v}=r,h={},o=0;const d=a=>{a&&a!=null&&a.expiresAfterSeconds&&(s(2,o=a.expiresAfterSeconds),s(1,h=de(o)))};function T(){h.days=O(this.value),s(1,h),s(2,o)}function I(){h.hours=O(this.value),s(1,h),s(2,o)}function G(){h.minutes=O(this.value),s(1,h),s(2,o)}function z(){o=this.value,s(2,o),s(1,h)}const C=()=>async({result:a})=>{a.type==="redirect"?await xe(a.location):await Ce(a)};return l.$$set=a=>{"data"in a&&s(4,p=a.data),"form"in a&&s(0,v=a.form)},l.$$.update=()=>{var a;l.$$.dirty&17&&s(3,f=((a=v==null?void 0:v.defaultsForm)==null?void 0:a.settings)||(p==null?void 0:p.settings)),l.$$.dirty&8&&d(f==null?void 0:f.defaults),l.$$.dirty&6&&(s(2,o=ge(h)),s(2,o=Math.min(o,365*24*60*60)),o>0?(s(2,o=Math.max(o,5*60)),s(1,h=de(o))):s(1,h={}))},[v,h,o,f,p,T,I,G,z,C]}class Ne extends ve{constructor(r){super(),ye(this,r,Ie,ke,he,{data:4,form:0})}}export{Ne as component};
