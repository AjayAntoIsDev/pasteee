{"version":3,"file":"hooks.server-Biba0k6e.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { d as deleteExpiredPastes } from \"./services.js\";\nimport cron from \"node-cron\";\nasync function handle({ event, resolve }) {\n  const searchParams = event.url.searchParams;\n  if (searchParams.get(\"r\") !== null || searchParams.get(\"raw\") !== null) {\n    event.request.headers.set(\"Accept\", \"text/plain\");\n  }\n  return await resolve(event);\n}\ncron.schedule(\"*/5 * * * *\", async () => {\n  await deleteExpiredPastes();\n});\nexport {\n  handle\n};\n"],"names":[],"mappings":";;;;;;AAEA,eAAe,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC1C,EAAE,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;AAC9C,EAAE,IAAI,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;AAC1E,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;AACtD,GAAG;AACH,EAAE,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;AAC9B,CAAC;AACD,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,YAAY;AACzC,EAAE,MAAM,mBAAmB,EAAE,CAAC;AAC9B,CAAC,CAAC;;;;"}