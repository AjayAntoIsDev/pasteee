{"version":3,"file":"_page.svelte-D28FYmWS.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/settings/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, h as add_attribute } from \"../../../../chunks/ssr.js\";\nimport \"devalue\";\nimport \"../../../../chunks/client.js\";\nimport { s as secondsToDHM, D as DHMToSeconds } from \"../../../../chunks/time.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let settings;\n  let { data } = $$props;\n  let { form } = $$props;\n  let expiresAfter = {};\n  let expiresAfterSeconds = 0;\n  const updateInitialConfig = (defaults) => {\n    if (!defaults)\n      return;\n    if (defaults?.expiresAfterSeconds) {\n      expiresAfterSeconds = defaults.expiresAfterSeconds;\n      expiresAfter = secondsToDHM(expiresAfterSeconds);\n    }\n  };\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0)\n    $$bindings.form(form);\n  settings = form?.defaultsForm?.settings || data?.settings;\n  {\n    updateInitialConfig(settings?.defaults);\n  }\n  {\n    {\n      expiresAfterSeconds = DHMToSeconds(expiresAfter);\n      expiresAfterSeconds = Math.min(expiresAfterSeconds, 365 * 24 * 60 * 60);\n      if (expiresAfterSeconds > 0) {\n        expiresAfterSeconds = Math.max(expiresAfterSeconds, 5 * 60);\n        expiresAfter = secondsToDHM(expiresAfterSeconds);\n      } else {\n        expiresAfter = {};\n      }\n    }\n  }\n  return `<h1 class=\"text-5xl\" data-svelte-h=\"svelte-o50bih\">Settings</h1> <div class=\"px-4\"><h4 class=\"text-2xl mt-6 mb-4\" data-svelte-h=\"svelte-1qs9gvj\">Defaults</h4> <form method=\"post\" action=\"?/defaults\" class=\"mt-2 flex flex-col gap-4\"><div><label for=\"encrypted\" class=\"py-2\" data-svelte-h=\"svelte-9ph1v3\">Encrypted</label> <input id=\"encrypted\" class=\"bg-dark px-2 py-1\" type=\"checkbox\" name=\"encrypted\" ${settings?.defaults?.encrypted ? \"checked\" : \"\"}></div> <div><label for=\"burn-after-read\" class=\"py-2\" data-svelte-h=\"svelte-v30ruf\">Burn after read</label> <input id=\"burn-after-read\" class=\"bg-dark px-2 py-1\" type=\"checkbox\" name=\"burn-after-read\" ${settings?.defaults?.burnAfterRead ? \"checked\" : \"\"}></div> <div><span data-svelte-h=\"svelte-j38af3\">Expires in:</span> <div class=\"grid grid-cols-3 gap-2 justify-center items-center\"><input type=\"number\" class=\"bg-dark py-1 text-center\" placeholder=\"DD\"${add_attribute(\"value\", expiresAfter.days, 0)}> <input type=\"number\" class=\"bg-dark py-1 text-center\" placeholder=\"HH\"${add_attribute(\"value\", expiresAfter.hours, 0)}> <input type=\"number\" class=\"bg-dark py-1 text-center\" placeholder=\"MM\"${add_attribute(\"value\", expiresAfter.minutes, 0)}> <input type=\"hidden\" name=\"expires-after-seconds\"${add_attribute(\"value\", expiresAfterSeconds, 0)}></div></div> <div class=\"mt-2\"><button class=\"bg-amber-500 text-black text-lg px-4 py-1\" data-svelte-h=\"svelte-yr5vrd\">Save</button> ${form?.defaultsForm.success ? `<span class=\"text-green-500\" data-svelte-h=\"svelte-1n07gf\">Saved</span> ` : ``}</div></form></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;AAIK,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,QAAQ,CAAC;AACf,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,IAAI,YAAY,GAAG,EAAE,CAAC;AACxB,EAAE,IAAI,mBAAmB,GAAG,CAAC,CAAC;AAC9B,EAAE,MAAM,mBAAmB,GAAG,CAAC,QAAQ,KAAK;AAC5C,IAAI,IAAI,CAAC,QAAQ;AACjB,MAAM,OAAO;AACb,IAAI,IAAI,QAAQ,EAAE,mBAAmB,EAAE;AACvC,MAAM,mBAAmB,GAAG,QAAQ,CAAC,mBAAmB,CAAC;AACzD,MAAM,YAAY,GAAG,YAAY,CAAC,mBAAmB,CAAC,CAAC;AACvD,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE,QAAQ,GAAG,IAAI,EAAE,YAAY,EAAE,QAAQ,IAAI,IAAI,EAAE,QAAQ,CAAC;AAC5D,EAAE;AACF,IAAI,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAC5C,GAAG;AACH,EAAE;AACF,IAAI;AACJ,MAAM,mBAAmB,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC;AACvD,MAAM,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AAC9E,MAAM,IAAI,mBAAmB,GAAG,CAAC,EAAE;AACnC,QAAQ,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AACpE,QAAQ,YAAY,GAAG,YAAY,CAAC,mBAAmB,CAAC,CAAC;AACzD,OAAO,MAAM;AACb,QAAQ,YAAY,GAAG,EAAE,CAAC;AAC1B,OAAO;AACP,KAAK;AACL,GAAG;AACH,EAAE,OAAO,CAAC,kZAAkZ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,GAAG,SAAS,GAAG,EAAE,CAAC,0MAA0M,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,GAAG,SAAS,GAAG,EAAE,CAAC,0MAA0M,EAAE,aAAa,CAAC,OAAO,EAAE,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,wEAAwE,EAAE,aAAa,CAAC,OAAO,EAAE,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,wEAAwE,EAAE,aAAa,CAAC,OAAO,EAAE,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,mDAAmD,EAAE,aAAa,CAAC,OAAO,EAAE,mBAAmB,EAAE,CAAC,CAAC,CAAC,sIAAsI,EAAE,IAAI,EAAE,YAAY,CAAC,OAAO,GAAG,CAAC,wEAAwE,CAAC,GAAG,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACriD,CAAC;;;;"}