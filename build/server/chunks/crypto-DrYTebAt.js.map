{"version":3,"file":"crypto-DrYTebAt.js","sources":["../../../.svelte-kit/adapter-node/chunks/crypto.js"],"sourcesContent":["import base64 from \"base64-js\";\nasync function decrypt(ciphertext, ivStr, keyStr) {\n  const decoder = new TextDecoder(\"utf-8\");\n  const iv = base64.toByteArray(ivStr);\n  const alg = { name: \"AES-GCM\", iv, length: 256 };\n  const key = await crypto.subtle.importKey(\n    \"raw\",\n    base64.toByteArray(keyStr),\n    alg,\n    false,\n    [\"decrypt\"]\n  );\n  const dec = await crypto.subtle.decrypt(\n    alg,\n    key,\n    base64.toByteArray(ciphertext)\n  );\n  return decoder.decode(dec);\n}\nasync function decryptWithPassword(ciphertext, iv, password) {\n  const encoder = new TextEncoder();\n  const decoder = new TextDecoder(\"utf-8\");\n  const alg = { name: \"AES-GCM\", iv: base64.toByteArray(iv), length: 256 };\n  const keyMaterial = await crypto.subtle.importKey(\n    \"raw\",\n    encoder.encode(password),\n    \"PBKDF2\",\n    false,\n    [\"deriveBits\", \"deriveKey\"]\n  );\n  const key = await crypto.subtle.deriveKey(\n    {\n      name: \"PBKDF2\",\n      salt: await crypto.subtle.digest(\n        \"SHA-512\",\n        encoder.encode(password)\n      ),\n      iterations: 31e4,\n      hash: \"SHA-512\"\n    },\n    keyMaterial,\n    alg,\n    false,\n    [\"decrypt\"]\n  );\n  const dec = await crypto.subtle.decrypt(\n    alg,\n    key,\n    base64.toByteArray(ciphertext)\n  );\n  return decoder.decode(dec);\n}\nasync function hashPassword(password, salt) {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(password + salt);\n  const hash = await crypto.subtle.digest(\"SHA-512\", data);\n  return base64.fromByteArray(new Uint8Array(hash));\n}\nexport {\n  decryptWithPassword as a,\n  decrypt as d,\n  hashPassword as h\n};\n"],"names":[],"mappings":";;AACA,eAAe,OAAO,CAAC,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE;AAClD,EAAE,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;AAC3C,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACvC,EAAE,MAAM,GAAG,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACnD,EAAE,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,SAAS;AAC3C,IAAI,KAAK;AACT,IAAI,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC;AAC9B,IAAI,GAAG;AACP,IAAI,KAAK;AACT,IAAI,CAAC,SAAS,CAAC;AACf,GAAG,CAAC;AACJ,EAAE,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO;AACzC,IAAI,GAAG;AACP,IAAI,GAAG;AACP,IAAI,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC;AAClC,GAAG,CAAC;AACJ,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC7B,CAAC;AACD,eAAe,mBAAmB,CAAC,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAE;AAC7D,EAAE,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;AACpC,EAAE,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;AAC3C,EAAE,MAAM,GAAG,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC3E,EAAE,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,SAAS;AACnD,IAAI,KAAK;AACT,IAAI,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;AAC5B,IAAI,QAAQ;AACZ,IAAI,KAAK;AACT,IAAI,CAAC,YAAY,EAAE,WAAW,CAAC;AAC/B,GAAG,CAAC;AACJ,EAAE,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,SAAS;AAC3C,IAAI;AACJ,MAAM,IAAI,EAAE,QAAQ;AACpB,MAAM,IAAI,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM;AACtC,QAAQ,SAAS;AACjB,QAAQ,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;AAChC,OAAO;AACP,MAAM,UAAU,EAAE,IAAI;AACtB,MAAM,IAAI,EAAE,SAAS;AACrB,KAAK;AACL,IAAI,WAAW;AACf,IAAI,GAAG;AACP,IAAI,KAAK;AACT,IAAI,CAAC,SAAS,CAAC;AACf,GAAG,CAAC;AACJ,EAAE,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO;AACzC,IAAI,GAAG;AACP,IAAI,GAAG;AACP,IAAI,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC;AAClC,GAAG,CAAC;AACJ,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC7B,CAAC;AACD,eAAe,YAAY,CAAC,QAAQ,EAAE,IAAI,EAAE;AAC5C,EAAE,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;AACpC,EAAE,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;AAC/C,EAAE,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC3D,EAAE,OAAO,MAAM,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;AACpD;;;;"}